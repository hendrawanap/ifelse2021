(self.webpackChunk=self.webpackChunk||[]).push([[5669],{95669:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>u});var n=a(34354),r=a(43671);function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}const s={name:"PenugasanDetails",data:function(){return{dataset:[],fields:[],title:"download"}},methods:{getDataset:function(){return this.dataset},getFields:function(){return[{key:"nim",label:"NIM"},{key:"name",label:"Nama"},{key:"group",label:"Nama Kelompok"},{key:"submission",label:"Data"},{key:"submitted_at",label:"Dikumpulkan Pada"}]},gotoProfile:function(t,e){this.$router.push("/kemahasiswaan/data/"+t.id)},exportToCSV:function(t,e){var a=new Blob([t],{type:"application/csv"}),n=document.createElement("a");n.href=URL.createObjectURL(a),n.download=e+".csv",n.click(),URL.revokeObjectURL(n.href)},createJSON:function(){var t=["NIM","Nama","Kelompok"],e=[];for(var a in this.fields)t.push(this.fields[a].label);t.push("Dikumpulkan Pada");var n=this.dataset.sort((function(t,e){return(""+t.group).localeCompare(e.group+"")}));for(var r in n){var i=n[r],s=Object.values(i.submission);e.push([i.nim,i.name,i.group].concat(o(s),[i.submitted_at]))}var u=[t].concat(e).map((function(t){return t.map((function(t){return'"'.concat(t,'"')})).join(",")})).join("\r\n");this.exportToCSV(u,this.title)}},mounted:function(){var t=this;r.Z.get(n.Z.tasks+this.$route.params.id).then((function(e){e.data.error||(t.fields=e.data.fields,t.title=e.data.title,t.dataset=e.data.submissions.map((function(t){return{id:t.student.id,nim:t.student.nim,name:t.student.name,group:t.student.group.name,submission:t.submission,submitted_at:t.submitted_at}})))}))}};const u=(0,a(51900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CRow",[a("CCol",{attrs:{sm:"12",md:"12"}},[a("CCard",[a("CCardHeader",[t._v(" Data Penugasan\n                    "),a("CButton",{staticClass:"float-right",attrs:{color:"primary",size:"sm"},on:{click:t.createJSON}},[t._v("\n                        Download Penugasan\n                    ")])],1),t._v(" "),a("CCardBody",[a("CDataTable",{attrs:{hover:"",fixed:"",fields:t.getFields(),items:t.getDataset(),"items-per-page":10,pagination:"","clickable-rows":"",columnFilter:{external:!1,lazy:!0},sorter:{external:!1,resetable:!0},tableFilter:{external:!1,lazy:!0}},on:{"row-clicked":t.gotoProfile},scopedSlots:t._u([{key:"submission",fn:function(e){var n=e.item;return[a("td",[t._l(Object.values(n.submission),(function(e){return a("a",{attrs:{href:e,target:"_blank"}},[t._v(t._s(e))])})),t._v(",\n                            ")],2)]}}])})],1)],1)],1)],1)],1)}),[],!1,null,"6ca55854",null).exports}}]);