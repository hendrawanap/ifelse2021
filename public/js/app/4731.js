(self.webpackChunk=self.webpackChunk||[]).push([[4731],{34731:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var n=t(87757),r=t.n(n),i=t(34354),o=t(43671);function s(e,a,t,n,r,i,o){try{var s=e[i](o),u=s.value}catch(e){return void t(e)}s.done?a(u):Promise.resolve(u).then(n,r)}const u={name:"Pendataan",data:function(){return{dataset:[],agenda_id:3,fields:[{key:"id",label:"ID"},{key:"nim",label:"NIM"},{key:"name",label:"Nama"},{key:"group",label:"Kelompok"},{key:"reason",label:"Kendala"}]}},methods:{agendaClicked:function(e){this.agenda_id=e},gotoPerizinan:function(e){this.$router.push("/perizinan/"+e.id)}},beforeMount:function(){var e,a=this;return(e=r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get(i.Z.perizinan);case 2:(t=e.sent).data&&(a.dataset=t.data.map((function(e,a){return{students:e.students.map((function(e){return{id:e.id,nim:e.student.nim,name:e.student.name,group:e.student.group.name,reason:["Sakit","Tugas Kampus","Alasan Mendesak","Acara Keluarga","Acara Keagamaan","Bencana Alam","Mati Listrik","Lainnya"][e.reason]}})),id:e.id,title:e.agenda.title+""}})),console.log(a.dataset));case 4:case"end":return e.stop()}}),e)})),function(){var a=this,t=arguments;return new Promise((function(n,r){var i=e.apply(a,t);function o(e){s(i,n,r,o,u,"next",e)}function u(e){s(i,n,r,o,u,"throw",e)}o(void 0)}))})()}};const d=(0,t(51900).Z)(u,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("CRow",[t("CCol",{attrs:{sm:"12",md:"12"}},[t("CCard",[t("CCardHeader",[e._v(" Data Pendataan ")]),e._v(" "),t("CCardBody",[t("CTabs",e._l(e.dataset,(function(a){return t("CTab",{key:a.id,attrs:{title:a.title,active:""},on:{click:function(a){return e.agendaClicked(1)}}},[t("CDataTable",{attrs:{hover:"",fixed:"",fields:e.fields,items:a.students,"items-per-page":10,"column-filter":{external:!1,lazy:!0},pagination:"","clickable-rows":""},on:{"row-clicked":e.gotoPerizinan},scopedSlots:e._u([{key:"Aksi",fn:function(a){var n=a.item;return[t("td",[t("router-link",{attrs:{to:"/pendataan/"+n.ID}},[t("CButton",{attrs:{color:"secondary"}},[e._v("Details")])],1)],1)]}}],null,!0)})],1)})),1)],1)],1)],1)],1)],1)}),[],!1,null,"523b9ef8",null).exports}}]);