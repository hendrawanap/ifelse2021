"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5571],{5571:(t,a,e)=>{e.r(a),e.d(a,{default:()=>c});var n=e(87757),i=e.n(n);var r=e(34354),o=e(43671);function s(t,a,e,n,i,r,o){try{var s=t[r](o),u=s.value}catch(t){return void e(t)}s.done?a(u):Promise.resolve(u).then(n,i)}const u={name:"QuizDetails",data:function(){return{quiz:{},data:[]}},computed:{getDataset:function(){return this.data.map((function(t){return{NIM:t.nim,Nama:t.name,"Mulai Pada":t.started_at,Kelompok:t.group,"Selesai Pada":t.ended_at,Nilai:t.marking}}))}},methods:{togglePublish:function(){var t=this;o.Z.get(r.Z.quizTogglePublish+this.$route.params.id).then((function(a){a.data.status&&(t.quiz.is_published=!t.quiz.is_published)}))},exportToCSV:function(t,a){var e=new Blob([t],{type:"application/csv"}),n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=a+".csv",n.click(),URL.revokeObjectURL(n.href)},createJSON:function(){var t=[],a=this.data.sort((function(t,a){return(""+t.group).localeCompare(a.group+"")}));for(var e in a){var n=a[e];t.push([n.nim,n.name,n.group,n.started_at,n.ended_at,n.marking])}var i=[["NIM","Nama","Kelompok","Mulai Pada","Selesai Pada","Nilai"]].concat(t).map((function(t){return t.map((function(t){return'"'.concat(t,'"')})).join(",")})).join("\r\n");this.exportToCSV(i,this.title)}},mounted:function(){var t,a=this;return(t=i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get(r.Z.quiz+a.$route.params.id);case 2:e=t.sent,a.data=e.data.students,a.quiz=e.data.quiz;case 5:case"end":return t.stop()}}),t)})),function(){var a=this,e=arguments;return new Promise((function(n,i){var r=t.apply(a,e);function o(t){s(r,n,i,o,u,"next",t)}function u(t){s(r,n,i,o,u,"throw",t)}o(void 0)}))})()}};const c=(0,e(51900).Z)(u,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("CRow",[e("CCol",{attrs:{sm:"12",md:"12"}},[e("CCard",[e("CCardHeader",[t._v("\n                    Data Peserta\n                    "),e("div",{staticClass:"float-right"},[e("CButton",{attrs:{size:"sm",color:"warning"},on:{click:t.createJSON}},[t._v("Download")]),t._v(" "),e("CButton",{staticClass:"float-right ml-2",attrs:{size:"sm",color:t.quiz.is_published?"primary":"danger"},on:{click:t.togglePublish}},[t._v(t._s(t.quiz.is_published?"Tutup":"Buka"))])],1)]),t._v(" "),e("CCardBody",[e("CDataTable",{attrs:{hover:"",fixed:"",fields:["NIM","Nama","Kelompok","Mulai Pada","Selesai Pada","Nilai"],items:t.getDataset,"items-per-page":10,pagination:"","clickable-rows":"","column-filter":{external:!1,lazy:!0}}})],1)],1)],1)],1)],1)}),[],!1,null,"268901e0",null).exports}}]);