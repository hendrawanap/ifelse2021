"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1276],{21276:(t,e,a)=>{a.r(e),a.d(e,{default:()=>r});a(9669);var i=a(34354),s=a(43671);const n={name:"PenugasanAdd",data:function(){return{description:"",startAt:"",endAt:"",total:1,title:"",isUploading:!1,hasError:!1,fields:[{id:1,label:"Link Drive 1"}],agendaId:1,options:[]}},methods:{assignOptions:function(){var t=this;s.Z.get(i.Z.agenda).then((function(e){e.data.error||(t.options=e.data.map((function(t){return{label:t.title,value:t.id}})))}))},changeTotal:function(){var t=this.total;if(this.fields.length<t)for(var e=this.fields.length;e<t;e++)this.fields.push({id:e+1,label:"Link Drive "+(e+1)});else this.fields.length>t&&this.fields.splice(t)},resetValues:function(){this.startAt="",this.endAt="",this.fields=[{id:1,label:"Link Drive 1"}],this.total=1,this.description="",this.title="",this.agendaId=1},publish:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={startAt:this.startAt,endAt:this.endAt,description:this.description,fields:JSON.stringify(this.fields),title:this.title,agendaId:this.agendaId,isPublished:t};this.isUploading=!0,this.hasError=!1;var a=this;s.Z.removeHeader("Content-Type"),s.Z.post(i.Z.taskAdd,e).then((function(t){a.isUploading=!1,t.data.error?a.hasError=!0:(a.hasError=!1,a.resetValues(),a.$router.push("/penugasan"))})).catch((function(t){a.isUploading=!1,a.hasError=!0}))}},mounted:function(){this.assignOptions()}};const r=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CRow",[a("CCol",{attrs:{sm:"12"}},[a("CCard",{attrs:{"border-color":t.hasError?"danger":""}},[a("CCardHeader",[a("strong",[t._v("Quiz Form")]),t._v(" "),t.isUploading?a("span",{staticClass:"float-right text-secondary"},[t._v("Is Uploading..")]):t._e(),t._v(" "),t.hasError?a("span",{staticClass:"float-right text-danger"},[t._v("Some Error Occurred")]):t._e()]),t._v(" "),a("CCardBody",[a("CForm",[a("CInput",{attrs:{description:"Berikan judul yang sesuai",label:"Judul Penugasan",horizontal:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),a("CTextarea",{attrs:{rows:"10",description:"Berikan Keterangan Tugas",label:"Deskripsi",horizontal:"",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),a("CInput",{attrs:{label:"Total Field",description:"Sebutkan total field yang akan disediakan saat pengisian",type:"number",horizontal:"",required:""},on:{change:t.changeTotal},model:{value:t.total,callback:function(e){t.total=e},expression:"total"}}),t._v(" "),t._l(t.fields,(function(e){return a("CInput",{key:e.id,attrs:{label:"Label untuk "+e.id,horizontal:""},model:{value:e.label,callback:function(a){t.$set(e,"label",a)},expression:"field.label"}})})),t._v(" "),a("CInput",{attrs:{label:"Dibuka pada",type:"datetime-local",required:"",horizontal:""},model:{value:t.startAt,callback:function(e){t.startAt=e},expression:"startAt"}}),t._v(" "),a("CInput",{attrs:{label:"Ditutup pada",type:"datetime-local",required:"",horizontal:""},model:{value:t.endAt,callback:function(e){t.endAt=e},expression:"endAt"}}),t._v(" "),a("CSelect",{attrs:{label:"Pilih Rangkaian Terkait",description:"Pilihan ini akan memengaruhi profil mahasiswa",options:t.options,horizontal:""},on:{change:function(e){t.agendaId=e.target.value}}})],2)],1),t._v(" "),a("CCardFooter",[t.isUploading?[a("CButton",{staticClass:"mr-2",attrs:{type:"submit",disabled:"",size:"sm",color:"primary"},on:{click:function(e){return t.publish()}}},[a("CIcon",{attrs:{name:"cil-check-circle"}}),t._v(" Publish")],1),t._v(" "),a("CButton",{staticClass:"mr-2",attrs:{type:"button",disabled:"",size:"sm",color:"secondary"},on:{click:function(e){return t.publish(!1)}}},[a("CIcon",{attrs:{name:"cil-file"}}),t._v(" Draft")],1)]:[a("CButton",{staticClass:"mr-2",attrs:{type:"submit",size:"sm",color:"primary"},on:{click:function(e){return t.publish()}}},[a("CIcon",{attrs:{name:"cil-check-circle"}}),t._v(" Publish")],1),t._v(" "),a("CButton",{staticClass:"mr-2",attrs:{type:"button",size:"sm",color:"secondary"},on:{click:function(e){return t.publish(!1)}}},[a("CIcon",{attrs:{name:"cil-file"}}),t._v(" Draft")],1)],t._v(" "),a("CButton",{attrs:{type:"reset",size:"sm",color:"danger"},on:{click:t.resetValues}},[a("CIcon",{attrs:{name:"cil-ban"}}),t._v(" Reset")],1)],2)],1)],1)],1)],1)}),[],!1,null,"4433b316",null).exports}}]);