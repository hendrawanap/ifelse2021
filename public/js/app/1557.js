"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1557],{51557:(t,a,e)=>{e.r(a),e.d(a,{default:()=>r});var n=e(34354),i=e(43671);const s={name:"QuizAdd",data:function(){return{startAt:"",endAt:"",total:15,duration:900,title:"",isUploading:!1,hasError:!1,agendas:[],agenda:null,isMounted:!1,excerpt:""}},methods:{updateAgenda:function(t){this.agenda=t.target.value},setStart:function(t){this.startAt=t},setEnd:function(t){this.endAt=t},setTitle:function(t){this.title=t},setTotal:function(t){this.total=t},setDuration:function(t){this.duration=t},setExcerpt:function(t){this.excerpt=t},resetValues:function(){this.startAt="",this.endAt="",this.total=15,this.duration=900,this.title="",this.excerpt=""},publish:function(){var t=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={startAt:this.startAt,endAt:this.endAt,total:this.total,duration:this.duration,excerpt:this.excerpt,title:this.title,isPublished:a,agendaId:this.agenda};console.log(e),this.isUploading=!0,this.hasError=!1;var s=this;i.Z.setHeader("Content-Type","application/x-www-form-encoded"),i.Z.post(n.Z.quizAdd,e).then((function(a){s.isUploading=!1,a.data.error?s.hasError=!0:(t.$router.push("/quiz"),s.hasError=!1)})).catch((function(t){s.isUploading=!1,s.hasError=!0}))},draft:function(){this.publish(!1)}},mounted:function(){var t=this;i.Z.get(n.Z.agenda).then((function(a){a.data.error||(t.agendas=a.data.map((function(t){return{value:t.id,label:t.title}})),t.isMounted=!0)})),i.Z.setHeader("Content-Type","application/x-www-form-encoded")}};const r=(0,e(51900).Z)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("CRow",[e("CCol",{attrs:{sm:"12"}},[e("CCard",{attrs:{"border-color":t.hasError?"danger":""}},[e("CCardHeader",[e("strong",[t._v("Quiz Form")]),t._v(" "),t.isUploading?e("span",{staticClass:"float-right text-secondary"},[t._v("Is Uploading..")]):t._e(),t._v(" "),t.hasError?e("span",{staticClass:"float-right text-danger"},[t._v("Some Error Occurred")]):t._e()]),t._v(" "),e("CCardBody",[e("CForm",[e("CInput",{attrs:{description:"Berikan judul yang sesuai",label:"Judul Quiz",horizontal:"",value:t.title},on:{change:t.setTitle}}),t._v(" "),e("CInput",{attrs:{description:"Label ini akan tampil pada halaman semua quiz maba",label:"Label Singkat",horizontal:"",value:t.excerpt},on:{change:t.setExcerpt}}),t._v(" "),e("CInput",{attrs:{description:"Sebutkan dalam detik (15 menit = 900 detik)",label:"Waktu Pengerjaan",type:"number",horizontal:"",value:t.duration},on:{change:t.setDuration}}),t._v(" "),e("CInput",{attrs:{label:"Total Soal",description:"Sebutkan total soal yang akan diambil dari acakan",type:"number",horizontal:"",value:t.total},on:{change:t.setTotal}}),t._v(" "),e("CInput",{attrs:{label:"Dibuka pada",type:"datetime-local",value:t.startAt,horizontal:""},on:{change:t.setStart}}),t._v(" "),e("CInput",{attrs:{label:"Ditutup pada",type:"datetime-local",value:t.endAt,horizontal:""},on:{change:t.setEnd}}),t._v(" "),e("CSelect",{attrs:{label:"Rangkaian Terkait",options:t.agendas,horizontal:""},on:{change:t.updateAgenda}})],1)],1),t._v(" "),e("CCardFooter",[t.isUploading?[e("CButton",{staticClass:"mr-2",attrs:{type:"submit",disabled:"",size:"sm",color:"primary"}},[e("CIcon",{attrs:{name:"cil-check-circle"}}),t._v(" Publish")],1),t._v(" "),e("CButton",{staticClass:"mr-2",attrs:{type:"button",disabled:"",size:"sm",color:"secondary"}},[e("CIcon",{attrs:{name:"cil-file"}}),t._v(" Draft")],1)]:[e("CButton",{staticClass:"mr-2",attrs:{type:"submit",size:"sm",color:"primary"},on:{click:t.publish}},[e("CIcon",{attrs:{name:"cil-check-circle"}}),t._v(" Publish")],1),t._v(" "),e("CButton",{staticClass:"mr-2",attrs:{type:"button",size:"sm",color:"secondary"},on:{click:t.draft}},[e("CIcon",{attrs:{name:"cil-file"}}),t._v(" Draft")],1)],t._v(" "),e("CButton",{attrs:{type:"reset",size:"sm",color:"danger"},on:{click:t.resetValues}},[e("CIcon",{attrs:{name:"cil-ban"}}),t._v(" Reset")],1)],2)],1)],1)],1)],1)}),[],!1,null,"ffd4c2aa",null).exports}}]);