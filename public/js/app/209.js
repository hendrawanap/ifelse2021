(self.webpackChunk=self.webpackChunk||[]).push([[209],{80209:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>c});var n=a(87757),r=a.n(n),s=a(34354),u=a(43671);function i(t,e,a,n,r,s,u){try{var i=t[s](u),o=i.value}catch(t){return void a(t)}i.done?e(o):Promise.resolve(o).then(n,r)}const o={name:"Berita",data:function(){return{dataset:[]}},methods:{getDataset:function(){return this.dataset.map((function(t){return{ID:t.id,Judul:t.title,"Tanggal Publish":t.published_at,Status:t.is_published}}))},changeStatus:function(t){var e={id:t.ID,is_published:t.Status};u.Z.setHeader("Content-Type","application/json"),u.Z.post(s.Z.beritaStatus,e).then((function(e){e.data.error||(t.Status=!t.Status)}))}},beforeMount:function(){var t,e=this;return(t=r().mark((function t(){var a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get(s.Z.berita);case 2:(a=t.sent).data&&(e.dataset=a.data);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(n,r){var s=t.apply(e,a);function u(t){i(s,n,r,u,o,"next",t)}function o(t){i(s,n,r,u,o,"throw",t)}u(void 0)}))})()}};const c=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CRow",[a("CCol",{attrs:{sm:"12",md:"12"}},[a("CCard",[a("CCardHeader",[t._v(" Data Berita ")]),t._v(" "),a("CCardBody",[a("CDataTable",{attrs:{hover:"",fixed:"",fields:["ID","Judul","Tanggal Publish","Status","Aksi"],items:t.getDataset(),"items-per-page":10,pagination:"","clickable-rows":""},scopedSlots:t._u([{key:"Status",fn:function(e){var n=e.item;return[a("td",[a("CBadge",{attrs:{color:n.Status?"success":"danger"}},[t._v("\n                  "+t._s(n.Status?"Publish":"Draft")+"\n                ")])],1)]}},{key:"Aksi",fn:function(e){var n=e.item;return[a("td",[a("router-link",{attrs:{to:"/berita/edit/"+n.ID}},[a("CButton",{attrs:{color:"secondary"}},[t._v("Edit")])],1),t._v(" "),a("CButton",{attrs:{color:n.Status?"danger":"success"},on:{click:function(e){return t.changeStatus(n)}}},[t._v("\n                  "+t._s(n.Status?"Draft":"Publish")+"\n                ")])],1)]}}])})],1)],1)],1)],1)],1)}),[],!1,null,"6d453544",null).exports}}]);